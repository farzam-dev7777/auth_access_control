<div class="container mx-auto px-4 py-8">
  <h1 class="text-2xl font-bold mb-6">Participation Rules for <%= @organization.name %></h1>

  <%= link_to "New Rule", new_organization_participation_rule_path(@organization), class: "bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mb-4 inline-block" %>

  <% if @rules.any? %>
    <table class="min-w-full bg-white border border-gray-200 rounded-lg">
      <thead>
        <tr>
          <th class="px-4 py-2">Type</th>
          <th class="px-4 py-2">Description</th>
          <th class="px-4 py-2">Active</th>
          <th class="px-4 py-2">Priority</th>
          <th class="px-4 py-2">Actions</th>
        </tr>
      </thead>
      <tbody>
        <% @rules.each do |rule| %>
          <tr>
            <td class="border px-4 py-2"><%= rule.rule_type.humanize %></td>
            <td class="border px-4 py-2"><%= rule.description %></td>
            <td class="border px-4 py-2"><%= rule.active? ? "Yes" : "No" %></td>
            <td class="border px-4 py-2"><%= rule.priority %></td>
            <td class="border px-4 py-2">
              <%= link_to "Edit", edit_organization_participation_rule_path(@organization, rule), class: "text-blue-600 hover:underline" %>
              <%= link_to "Delete", organization_participation_rule_path(@organization, rule), method: :delete, data: { confirm: "Are you sure?" }, class: "text-red-600 hover:underline ml-2" %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  <% else %>
    <p class="text-gray-600 mt-4">No participation rules have been set up for this organization yet.</p>
  <% end %>
</div>
